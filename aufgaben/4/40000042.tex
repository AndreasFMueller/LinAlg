Ein RGB-Farbsensor sollte zu jeder Lichtfarbe die Werte f"ur den roten,
gr"unen und blauen Anteil ermitteln.
Wir k"onnen annehmen, dass der Zusammenhang zwischen Lichtfarbe und
ermittelten Werten linear ist.
Beim Testen des Sensors mit einer kalibrierten Farbquelle stellt sich
heraus, dass die Werte $(r,g,b)$ des Sensors stark von den wahren Werten 
$(R,G,B)$
abweichen.
So wurden beispielsweise folgende Paare gemessen:
\begin{center}
\begin{tabular}{|>{$}c<{$}>{$}c<{$}>{$}c<{$}|>{$}c<{$}>{$}c<{$}>{$}c<{$}|}
\hline
R&G&B&r&g&b\\
\hline
1&0&0&1&1&0\\
0&1&0&1&1&1\\
0&0&1&0&1&1\\
1&2&1&1&2&1\\
\hline
\end{tabular}
\end{center}
Gesucht ist jetzt eine $3 \times 3$-Matrix $S$, die den Zusammenhang
zwischen den wahren Werten $(R,G,B)$ und den gemessenen Werten $(r,g,b)$
mÃ¶glichst gut wiedergeben kann. Stellen Sie dazu ein Gleichungssystem auf,
mit welchem die Matrixelemente von $S$ berechnet werden k"onnen.
Im Gleichungssystem m"ussen alle Messwerte ber"ucksichtigt werden.
Zudem soll es erweitert werden k"onnen, wenn mehr Daten bekannt werden.

\begin{hinweis}
Es wird nicht verlangt, die Matrix $S$ zu berechnen
\end{hinweis}

\begin{loesung}
Wir suchen eine Matrix, die Farb-Vektoren gem"ass
\[
\begin{pmatrix}r\\g\\b\end{pmatrix}
=
S
\begin{pmatrix}R\\G\\B\end{pmatrix}
\]
umrechnet.
Die Eintr"age in $S$ sind die Unbekannten.
Im Idealfall lassen sich die Messwerte exakt wiedergeben, dann
gelten die Gleichungen:
\[
\begin{linsys}{12}
{\color{red}s_{11}}R&+&{\color{red}s_{12}}G&+&{\color{red}s_{13}}B
	& &       & &       & &
	& &       & &       & &
	&=&r\\
       & &       & &       
	& &{\color{red}s_{21}}R&+&{\color{red}s_{22}}G&+&{\color{red}s_{23}}B
	& &       & &       & &
	&=&g\\
       & &       & &       
	& &       & &       & &
	& &{\color{red}s_{31}}R&+&{\color{red}s_{32}}G&+&{\color{red}s_{33}}B
	&=&b\\
\end{linsys}
\]
Setzt man die vier Messungen ein, erh"alt man daraus zw"olf Gleichungen
f"ur die neun gesuchten Matrixeintr"age von $S$, also ein "uberbestimmtes
Gleichungssystem.
Die Matrix $A$ und die rechte Seite $b$ dieses Gleichungssystems ist
\[
A=\begin{pmatrix}
1&0&0& 0&0&0& 0&0&0\\
0&0&0& 1&0&0& 0&0&0\\
0&0&0& 0&0&0& 1&0&0\\
%
0&1&0& 0&0&0& 0&0&0\\
0&0&0& 0&1&0& 0&0&0\\
0&0&0& 0&0&0& 0&1&0\\
%
0&0&1& 0&0&0& 0&0&0\\
0&0&0& 0&0&1& 0&0&0\\
0&0&0& 0&0&0& 0&0&1\\
%
1&2&1& 0&0&0& 0&0&0\\
0&0&0& 1&2&1& 0&0&0\\
0&0&0& 0&0&0& 1&2&1\\
\end{pmatrix}
,
\qquad
b
=
\begin{pmatrix}
1\\1\\0\\
1\\1\\1\\
0\\1\\1\\
1\\2\\1
\end{pmatrix}
\]
Das gesuchte Gleichungssystem hat die Matrix $A^tA$ und die rechte
Seite $A^tb$:
\[
A^tA
=
\begin{pmatrix}
2&2&1&0&0&0&0&0&0\\
2&5&2&0&0&0&0&0&0\\
1&2&2&0&0&0&0&0&0\\
%
0&0&0&2&2&1&0&0&0\\
0&0&0&2&5&2&0&0&0\\
0&0&0&1&2&2&0&0&0\\
%
0&0&0&0&0&0&2&2&1\\
0&0&0&0&0&0&2&5&2\\
0&0&0&0&0&0&1&2&2\\
\end{pmatrix}
,\qquad
A^tb=\begin{pmatrix}2\\3\\1\\3\\5\\3\\1\\3\\2\end{pmatrix}
\]
Es ist nicht verlangt worden, dass das Gleichungssystem gel"ost wird.
\end{loesung}

\begin{diskussion}
Mit Octave kann man daraus nat"urlich auch eine numerische L"osung gewinnen,
man findet
\[
S=\begin{pmatrix}
\phantom{-}0.71429& \phantom{-}0.42857&           -0.28571\\
\phantom{-}0.71429& \phantom{-}0.42857& \phantom{-}0.71429\\
          -0.28571& \phantom{-}0.42857& \phantom{-}0.71429
\end{pmatrix}.
\]
\end{diskussion}




