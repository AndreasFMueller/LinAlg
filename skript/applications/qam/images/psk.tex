%
% psk.tex -- Konstallationsdiagramm für 8-PSK
%
% (c) 2018 Prof Dr Andreas Müller, Hochschule Rapperswil
%
\documentclass[tikz,12pt]{standalone}
\usepackage{times}
\usepackage{amsmath}
\usepackage{txfonts}
\usepackage[utf8]{inputenc}
\usepackage{graphics}
\usepackage{color}
\usepackage{pifont}
\usetikzlibrary{arrows,intersections,math,calc}
\begin{document}

\def\s{1.9}

\def\a{22.5}

\def\kreis#1#2#3{
	\fill[color=farbe!#2]
		({\s*cos(#1)},{\s*sin(#1)})
			circle[radius={#3*\s}];
}

\def\symbol#1#2#3{
	\begin{scope}
		\clip	(0,0)
			--
			({2*\s*cos(#1-\a)},{2*\s*sin(#1-\a)}) arc
				({#1-\a}:{#1+\a}:2*\s)
			--
			cycle;

		\kreis{#1}{05}{0.75}
		\kreis{#1}{10}{0.70}
		\kreis{#1}{15}{0.65}
		\kreis{#1}{20}{0.60}
		\kreis{#1}{25}{0.55}
		\kreis{#1}{30}{0.50}
		\kreis{#1}{35}{0.45}
		\kreis{#1}{40}{0.40}
		\kreis{#1}{45}{0.35}
		\kreis{#1}{50}{0.30}
		\kreis{#1}{55}{0.25}
		\kreis{#1}{60}{0.20}
		\kreis{#1}{65}{0.15}
		\kreis{#1}{70}{0.10}
		\kreis{#1}{75}{0.05}
		\kreis{#1}{80}{0.05}
		\kreis{#1}{85}{0.05}
		\kreis{#1}{90}{0.05}
		\kreis{#1}{100}{0.05}
	\end{scope}
	\draw ({\s*cos(#1)},{\s*sin(#1)}) circle[radius=0.08];
	\node at ({\s*cos(#1)},{\s*sin(#1)}) [#3] {\texttt{#2}};
}

\def\zentrum#1{
	\kreis{#1}{100}{0.05}
	\draw (#1:\s) circle[radius=0.08];
}

\begin{tikzpicture}[>=latex,thick]

\definecolor{farbe}{rgb}{0.6,0.0,0.6}
\symbol{0}{000}{above right}
\definecolor{farbe}{rgb}{0.8,0.0,0.0}
\symbol{45}{001}{above right}
\definecolor{farbe}{rgb}{1.0,0.6,0.2}
\symbol{90}{010}{above right}
\definecolor{farbe}{rgb}{1.0,1.0,0.2}
\symbol{135}{011}{above left}
\definecolor{farbe}{rgb}{0.0,0.6,0.0}
\symbol{180}{100}{below left}
\definecolor{farbe}{rgb}{0.0,0.8,0.8}
\symbol{225}{101}{below left}
\definecolor{farbe}{rgb}{0.0,0.4,0.8}
\symbol{270}{110}{below left}
\definecolor{farbe}{rgb}{0.2,0.0,1.0}
\symbol{315}{111}{below right}

\draw[->] ({-2*\s-0.1},0) -- ({2*\s+0.3},0) coordinate[label={$I$}];
\draw[->] (0,{-2*\s-0.1}) -- (0,{2*\s+0.3}) coordinate[label={right:$Q$}];

\definecolor{farbe}{rgb}{0.6,0.0,0.6}
\zentrum{0}
\definecolor{farbe}{rgb}{1.0,0.6,0.2}
\zentrum{90}
\definecolor{farbe}{rgb}{0.0,0.6,0.0}
\zentrum{180}
\definecolor{farbe}{rgb}{0.0,0.4,0.8}
\zentrum{270}

\end{tikzpicture}

\end{document}

